import{_ as h,c as t,a as k,b as i,d as n,w as e,r as p,o as d,e as l}from"./app-DwxfZUNk.js";const r={};function A(g,s){const a=p("VPLink");return d(),t("div",null,[s[2]||(s[2]=k(`<h3 id="更新系统软件包索引并升级已安装的软件包" tabindex="-1"><a class="header-anchor" href="#更新系统软件包索引并升级已安装的软件包"><span>更新系统软件包索引并升级已安装的软件包：</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> apt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> update</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 更新软件包索引</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> apt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> upgrade</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -y</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 升级已安装的软件包， -y 选项表示自动确认</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> apt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> autoremove</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -y</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 删除不再需要的软件包</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="开启防火墙-ufw" tabindex="-1"><a class="header-anchor" href="#开启防火墙-ufw"><span>开启防火墙 (UFW)</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ufw</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> enable</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 启用防火墙</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ufw</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> status</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 查看防火墙状态</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ufw</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> allow</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ssh</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 允许 SSH 连接</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ufw</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> allow</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 80/tcp</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 允许 HTTP 连接</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ufw</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> allow</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 443/tcp</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 允许 HTTPS 连接</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ufw</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> reload</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 重新加载防火墙规则</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 允许特定端口（例如 8080）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ufw</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> allow</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 8080/tcp</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 允许 TCP 端口 8080</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 拒绝特定端口（例如 8080）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ufw</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> deny</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 8080/tcp</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 拒绝 TCP 端口 8080</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ufw</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> delete</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> allow</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 8080/tcp</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 删除允许规则</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ufw</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> delete</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> deny</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 8080/tcp</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 删除拒绝规则</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="安装-fail2ban-防暴力破解" tabindex="-1"><a class="header-anchor" href="#安装-fail2ban-防暴力破解"><span>安装 fail2ban（防暴力破解）</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> apt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> fail2ban</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -y</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 安装 fail2ban</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> enable</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> fail2ban</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 设置 fail2ban 开机自启</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> start</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> fail2ban</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 启动 fail2ban 服务</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="配置docker和nginx请参考以下文档" tabindex="-1"><a class="header-anchor" href="#配置docker和nginx请参考以下文档"><span>配置docker和nginx请参考以下文档：</span></a></h3>`,7)),i("ul",null,[i("li",null,[n(a,{href:"docker.md"},{default:e(()=>[...s[0]||(s[0]=[l("部署docker",-1)])]),_:1})]),i("li",null,[n(a,{href:"nginx.md"},{default:e(()=>[...s[1]||(s[1]=[l("配置nginx",-1)])]),_:1})])])])}const o=h(r,[["render",A]]),y=JSON.parse(`{"path":"/Linux/14zi2m0a/","title":"initial","lang":"en-US","frontmatter":{"title":"initial","createTime":"2025/10/23 18:45:28","permalink":"/Linux/14zi2m0a/","description":"更新系统软件包索引并升级已安装的软件包： 开启防火墙 (UFW) 安装 fail2ban（防暴力破解） 配置docker和nginx请参考以下文档：","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"initial\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://docs.threekd.com/Linux/14zi2m0a/"}],["meta",{"property":"og:site_name","content":"Di's Docs"}],["meta",{"property":"og:title","content":"initial"}],["meta",{"property":"og:description","content":"更新系统软件包索引并升级已安装的软件包： 开启防火墙 (UFW) 安装 fail2ban（防暴力破解） 配置docker和nginx请参考以下文档："}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}]]},"git":{"createdTime":1761222234000},"autoDesc":true,"filePathRelative":"Linux/initial.md","headers":[]}`);export{o as comp,y as data};
